
\RequirePackage{silence}
\WarningFilter{latex}{Writing or overwriting file}
\WarningFilter{minitoc(hints)}{W0024}

% Add fields to the bibliography datamodel
% Formatting and sorting is done in preamble in bib_setup.tex
\begin{filecontents*}[overwrite]{biblatex-dm.cfg}
\DeclareDatamodelFields[type=list, datatype=literal, label=true, nullok=true]{datavar}
\DeclareDatamodelEntryfields[dataset]{datavar}
\DeclareDatamodelFields[type=field, datatype=verbatim, nullok=true]{pypi}
\DeclareDatamodelEntryfields[software]{pypi}
\end{filecontents*}

%%% Document class
\documentclass[
12pt,
a4paper,
french,
openright,
twoside,
hyperfootnotes=false, % put here otherwise option clash
draft,
]
{memoir}

\usepackage{src/ch-thesis}

\AtBeginDocument{%
  \bookmark[named=FirstPage, level=section]{Page de garde}%
}

\begin{document}
\dominitoc

%%% Cover page
\include{tex/front_page}

%%% Front matter
\frontmatter
\include{tex/front_matter}

%%% Glossary
\setglswidth%
\printglossary[toctitle=Glossaire]

%%% TOC
\clearpage
{
  \setlength{\baselineskip}{1.03\onelineskip}
  \tableofcontents*
  % phantomsection already called by \tableofcontents
  \addcontentsline{toc}{section}{\contentsname}
}

\clearpage

%%% LOF
\listoffigures*
% phantomsection already called by \listoffigures
\addcontentsline{toc}{section}{\listfigurename}

\clearpage

%%% Mainmatter
\mainmatter%

\include{tex/intro}
\include{tex/méthodes}
\include{tex/res_chl}
\include{tex/res_phénologie}
\include{tex/conclusion}

%%% Appendices
\begin{appendices}
  \changeappendixmark%

\chapter[Article: \articleCceTitle][Article]{Article: \articleCceTitle}
\label[appendix]{ax:article-cce}
\chapter[Article: \articleReviewTitle][Article]{Article: \articleReviewTitle}
\label[appendix]{ax:article-review}

\renewcommand{\thesection}{\Alph{chapter}.\arabic{section}} % No chapter number in section
\chapterlof{Autres}
\label[appendix]{ax:autres}
\include{tex/annexes_autres}
\end{appendices}

%%% Bibliography
\chapter*{\bibname}
\mtcaddchapter[\bibname]
\markboth{\bibname}{}
\label{bib}
{
  \emergencystretch=1em
  \printbibliography[heading=none, filter=normal]
}

\unsection{\bibdataTitle}
\markright{\bibdataTitle}
\label{bib:data}
{
  \emergencystretch=1em
  \printbibliography[heading=none, type=dataset]
}

\unsection{\bibsoftwareTitle}
\markright{\bibsoftwareTitle}
\label{bib:software}

J'ai été amené à utiliser durant ma thèse de nombreux outils informatiques sans lesquels ce travail n'aurait pu aboutir, ou en tout cas avec assurément beaucoup plus de difficultés.
Il me semble important d'en citer au moins une partie ici.
La reproductibilité de mon travail est déjà garantie par la mise à disposition de mes codes (accompagnés d'une courte documentation et de tout le nécessaire pour reproduire les résultats) sur un dépôt public\footnote{%
  Dépot Gitlab: \glsurl{gitlab}}
et dont une version est également déposée sur un répertoire Zenodo\footnote{\glsurl{zenodo}}.
Il s'agit ici plutôt de créditer les nombreux contributeurs qui ont participé à l'élaboration de ces outils.

Bien évidemment beaucoup des calculs reposent sur des librairies qui ne sont plus à présenter: \citesoft{numpy}, \citesoft{scipy}, et \citesoft{pandas}.
Cependant il est plus commun (en géosciences en tout cas) d'interfacer avec la librairie \citesoft{xarray}.
Les outils de \citesoft{dask} sont également avérés indispensables pour gérer les quantités importantes de données que sont les notres.

Il convient de citer plusieurs paquets permettant le calcul efficace d'histogrammes:
\citesoft{xhistogram} qui implémente ses fonctionalités à partir de fonctions NumPy et Dask \enquote*{élémentaires}, et
\citesoft{dask-histogram} qui s'appuie sur la librairie C \citesoft{boost}.

Plusieurs paquets sont utilisés pour réaliser les figures, bien évidemment \citesoft{matplotlib},
\citesoft{cartopy} pour les cartes,
mais également \citesoft{cmocean} qui fourni des palettes de couleurs, notamment pour un usage en océanographie. Ces dernières présentent les avantages (majeurs) d'être linéairement perceptibles, adaptés à une conversion en nuance de gris pour impression, et robustes à plusieurs types de daltonisme.
Similairement, les couleurs utilisées dans les figures sont le fruit du travail de Paul Tol\footnote{voir~\glsurl{paultol}}, distribué pour Python par mes soins (voir~\creftitle{sec:productions}).

Enfin il me parait approprié de citer les outils \citesoft{ipython} avec lequel j'execute tous mes scripts, \citesoft{mamba} et le projet \citesoft{conda-forge} lesquels me permettent de gérer les environments Python, et enfin le travail épatant derrière le framework de configuration \citesoft{doom} sur lequel tous les scripts et ce manuscript (entre autres) ont été écrits.

{
  \emergencystretch=1em
  \raggedright%
  \printbibliography[heading=none, type=software]
}

\backmatter%

\end{document}

